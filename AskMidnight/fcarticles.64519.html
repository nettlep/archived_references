<html>
<head><title>flipcode - Clicking A Sphere</title>
<style type="text/css">


a.menulink:link    {color: #b9ffd0; }
a.menulink:visited {color: #b9ffd0; }
a.menulink:active  {color: #b9ffd0; }

a.menulinkempty:link    {color: #b9ffd0; }
a.menulinkempty:visited {color: #b9ffd0; }
a.menulinkempty:active  {color: #b9ffd0; }
a.menulinkempty:link, a.menulinkempty:visited, a.menulinkempty:active {text-decoration: none}

a.orangelink:link    { color:#FFAB04; }
a.orangelink:visited { color:#FFAB04; }
a.orangelink:active  { color:#FFAB04; }

a.palegreen:link    {color: #b9ffd0; }
a.palegreen:visited {color: #b9ffd0; }
a.palegreen:active  {color: #b9ffd0; }

a.bluelink:link    { color:#03F0FF; }
a.bluelink:visited { color:#03F0FF; }
a.bluelink:active  { color:#03F0FF; }

a.softyellow:link     { color:#FFFCA9; }
a.softyellow:visited  { color:#FFFCA9; }
a.softyellow:active   { color:#FFFCA9; }

a.nounderline:link        {color: #FFFCA9; }
a.nounderline:visited     {color: #FFFCA9; }
a.nounderline:active      {color: #FFFCA9; }
a.nounderline:link, a.nounderline:visited, a.nounderline:active {text-decoration: none}

<!--
#code_comment { font-family:Courier,Courier New; font-size:12px; color:#007f00; }
#code_text    { font-family:Courier,Courier New; font-size:12px; color:#000000; }
#code_keyword { font-family:Courier,Courier New; font-size:12px; color:#0000FF; }
-->

</style>
</head>
<body bgcolor="#000000" text="#ffffff" link="#FFFCA9" vlink="#FFFCA9" alink="#FFFCA9">

<center>

<table cellspacing=0 cellpadding=0 border=0 width="100%">
<tr>
   <td background="comments_bar2.jpg" bgcolor="#333333" width="100%" valign="center"><font size=1>&nbsp;</font></td>
</tr>
</table>

<table width="100%" cellspacing=12 cellpadding=0 border=0><tr>
<td width="49%" bgcolor="#000000" valign="center"><a href="deadend.html"><img border=0 src="fcc.png"></a></td>
<td width="49%" bgcolor="#000000" valign="center" align="right">
</td>
</tr>
</table>


</td></tr></table>

<table cellspacing=0 cellpadding=0 border=0 width="100%">
<tr>
   <td background="comments_bar2.jpg" bgcolor="#333333" width="100%" valign="center"><font size=1>&nbsp;</font></td>
</tr>
</table>


<table width="100%" cellspacing=0 cellpadding=0 border=0><tr>
<td width="160" bgcolor="#303030" valign="top">



<img src="rm-stilt.gif"></td>


<td width="100%" bgcolor="#000000" valign="top">
<font face="Tahoma, Helvetica, Verdana" size=1>

<font face="Verdana,Helvetica" color="#ffffff" size=2><br>
<br>
<center>
<table width="94%" cellspacing=0 cellpadding=0 border=0>
<tr>
<td>
<font size=3 face="Verdana, Helvetica" color="#ffffff"><b>Clicking A Sphere</b><br>
<font size=2>Question submitted by <!--GO AWAY SPAM!!!--><script language="javascript">document.write('<a href=\"mailto:' + ''    
+''    
+''    
+ '' + '' + ''    
+''    
+''    
+''    
+ 'fbinder' + ''    
+''    
+''    
+''    
+''    
+''    
+ '@' + 'unicenp' +  '.' + ''    
+''    
+''    
+''    
+ 'br\">' + 'Fabio Vinicius Binder' + '</a>')</script> (18 October 1999)</font><br>
<font size=1><br><img src="line_grey.png"><br><br></font><br>
</font>

</td></tr></table>
</center><center>
<table width="98%" border=0 cellspacing=0 cellpadding=0>
<tr>
<td><img src="bborder_topleft.png"></td>
<td width="100%" background="bborder_topmiddle.png">&nbsp;</td>
<td><img src="bborder_topright.png"></td>
</tr>
<tr>
<td background="bborder_left.png">&nbsp;</td>
<td width="100%">
<font face="Verdana,Helvetica" color="#ffffcc" size=2>

   My problem: I have to implement an earth-like menu. This means the
user must be able to rotate the earth, click anywhere he wishes and
got information and/or actions about the clicked country (!!!). I can
imagine some solutions: a)each country has a unique texture ( I dont
know if my artists would be able to build something nice with so many
textures); b)save the information about "what is the country of this
specific face" in every face; c) move to another less-crazy career. :(
   Do you know if any of this solutions is good enough? Is there any
other better solution? Has anyone already did something like this?
Should I go to a mental institution?
</font>

</td>
<td background="bborder_right.png">&nbsp;</td>
</tr>
<tr>
<td><img src="bborder_botleft.png"></td>
<td width="100%" background="bborder_botmiddle.png">&nbsp;</td>
<td><img src="bborder_botright.png"></td>
</tr>
</table>
<br>
<center>

<center>
<table width="98%" border=0 cellspacing=0 cellpadding=0>
<tr>
<td><img src="bborder_topleft-a.png"></td>
<td width="100%" background="bborder_topmiddle.png">&nbsp;</td>
<td><img src="bborder_topright.png"></td>
</tr>
<tr>
<td background="bborder_left.png">&nbsp;</td>
<td width="100%">
<font face="Verdana,Helvetica" color="#BFFFE5" size=2>
I think the solution is quite simple. First, you'll need to decide how
to texture the sphere since this is directly related to solving your
'picking' problem. There are many (and I do mean many) different
projections of the Earth maps. You want to stay away from the
projections that look like a football that's been cut up and laid out
flat (like the Goode Homolosine.) These projections are great for
"flattening" the Earth and balancing spatial relationships of each
continent, but they're no good for texturing. The two you'll probably be
most interested in are the Cylindrical Projection or the Mercator
Projection.<br><br>To help explain, consider the following example. If you were to project
the Earth's surface onto a virtual mapping cylinder (using the Earth's
axis as the center axis for the mapping cylinder) you'll notice
something odd about the resulting projected texture. At the tops and
bottoms of the texture, the image would appear to be compressed
vertically. Near the equator, however, there would be no compression.
The reason is because of the increasing angle of the Earth's surface as
it approaches the poles. This result is a cylindrical projection map.
This projection has a drawback. If you're mapping a perfect sphere (i.e.
infinite number of polygons) your texture will be warped at the poles,
unless you have infinite precision in your texture map. As polygonal
spheres aren't so accurate, this may work for you. But consider this
before you decide.<br><br>The Mercator projection map is easier to work with and it doesn't
stretch across the poles, but it requires a slight modification to your
UV mapping. A Mercator projection-map is a curvature-adjusted (i.e.
non-warped) version of the Cylindrical projection-map. This is easier
for your artists to use. It's also a no-brainer to map. Simply use sine
while picking your latitudinal UVs (0 at the equator, 1 at the poles)
and you'll have a properly mapped sphere using the Mercator projection.<br><br>Once you have your sphere mapped using a projection that is
mathematically sane, your point-picking becomes much easier. You can
even use a sphere-ray intersection to pick the exact point on the
surface. From that, you can get the U/V coordinates (this stuff is
documented in lots of places -- it's how ray tracers texture map
spheres.) Just make sure to adjust your UVs based on the projection map
you've chosen.<br><br>Now you've got the pixel in the texture map, what then? You could have
your artists create two textures. The first is the image, the second is
the database, where each continent and/or country has its own specific
color. When you find your UVs by reverse projection, you use those to
perform a lookup into the database image, pick the color (read:
"database key") and provide the information.<br><br>Or, you could always seek psychological council. It's your choice. :-)
<br>
<font size=1><br><img src="line_grey.png"><br><br></font>
<font color="#ffffff">Response provided by <b>Paul Nettle</b></font>
</font>
</td>
<td background="bborder_right.png">&nbsp;</td>
</tr>
<tr>
<td><img src="bborder_botleft.png"></td>
<td width="100%" background="bborder_botmiddle.png">&nbsp;</td>
<td><img src="bborder_botright.png"></td>
</tr>
</table><br>This article was originally an entry in flipCode's <i>Fountain of Knowledge</i>, an open Question and Answer column that no longer exists.
<center>

</td>



</tr>
</table>

<table cellspacing=0 cellpadding=0 border=0 width="100%">
<tr>
   <td background="comments_bar2.jpg" bgcolor="#333333" width="100%" valign="center"><font size=1>&nbsp;</font></td>
</tr>
</table>
</center>

<br>
<center><font face="Arial, Helvetica" size=1> </font></center>

<br><br>



<font face="Verdana,Helvetica" color="#ffffff" size=2><b>Community Feedback:</b><br><br></font><center><font face="Verdana,Helvetica" color="#ffffff" size=2>No comments have been posted yet.</font></center> <center><font face="Helvetica,Tahoma,Verdana" color="#ffffff" size=1>Copyright 1999-2006 (C) FLIPCODE.COM, INC.  All rights reserved.</font> <font face="Helvetica,Tahoma,Verdana" size=1>Please read our <a href="terms.shtml">Terms</a>, <a href="terms.shtml">Conditions</a>, and <a href="terms.shtml">Privacy information</a>.</font></center></body></html><br><br>